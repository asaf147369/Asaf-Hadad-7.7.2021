(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{102:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,u,s=n(1),l=n.n(s),d=n(12),h=n.n(d),f=(n(102),n(57)),j=n(24),p=n(42),b=n(13),m=n(16),x={body:"#fff",fontColor:"#121212",inputColor:"transparent",themeColor:"#004550",switchColor:"#f50057"},g={body:"#121212",fontColor:"#fff",inputColor:"#fff",themeColor:"#BB86FC",switchColor:"#f50057"},v=Object(m.b)(r||(r=Object(j.a)(["\n  html{\n    font-size: 16px;\n    @media (max-width: 768px) {\n      font-size: 13px;\n    }\n  }\n  body {\n    background: ",";\n    color: ",";\n    --themeColor: ",";\n    --switchColor: ",";\n  }\n  h1,h2,h3, a {\n\t  color: ",";\n    margin-top: 0;\n  }\n  input::placeholder {\n    color: ",";\n  }\n  label {\n    background: white;\n  }\n  "])),(function(e){return e.theme.body}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.themeColor}),(function(e){return e.theme.switchColor}),(function(e){return e.theme.themeColor}),(function(e){return e.theme.inputColor})),O=n(44),w=n.n(O),y=n(3),C=function(){return Object(y.jsxs)("ul",{className:w.a.ul,children:[Object(y.jsx)("li",{children:Object(y.jsx)(p.b,{className:w.a.link,to:"/",children:"Home"})}),Object(y.jsx)("li",{children:Object(y.jsx)(p.b,{className:w.a.link,to:"/favorite",children:"Favorites"})})]})},I=n(15),k=m.c.div(a||(a=Object(j.a)(["\n  display: flex;\n  flex-direction: ",";\n  width: ",";\n  max-width: ",";\n  justify-content: ",";\n  align-items: ",";\n  padding: ",";\n  margin: ",";\n  height: ",";\n  border: ",";\n  border-radius: ",";\n  flex-wrap: ",";\n  overflow: ",";\n  @media (max-width: 768px) {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n"])),(function(e){return e.dir}),(function(e){return e.width}),(function(e){return e.maxWidth}),(function(e){return e.justify}),(function(e){return e.alignItems}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.height}),(function(e){return e.border}),(function(e){return e.radius}),(function(e){return e.wrap}),(function(e){return e.overflow})),T=function(e){return Object(y.jsx)(k,Object(I.a)({},e))},z=n(194),S=m.c.div(c||(c=Object(j.a)(["\n  display: flex;\n  flex: ",";\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  padding: ",";\n  margin: ",";\n  height: ",";\n  width: ",";\n  border: ",";\n  border-radius: ",";\n  className: ",";\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"])),(function(e){return e.flex}),(function(e){return e.dir}),(function(e){return e.justify}),(function(e){return e.alignItems}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.border}),(function(e){return e.radius}),(function(e){return e.className})),W=function(e){return Object(y.jsx)(S,Object(I.a)({},e))},A=n(41),N=function(e){var t="h".concat(e.level);return Object(y.jsx)(t,Object(I.a)(Object(I.a)({},e),{},{children:e.children}))},D=function(e){var t=e.setTheme;return Object(y.jsxs)(T,{justify:"space-between",alignItems:"center",padding:"0 25px",margin:"0 0 30px 0px",wrap:"wrap",children:[Object(y.jsx)(N,{level:"1",margin:"0 20px 0 0",children:"Weather App"}),Object(y.jsx)(C,{}),Object(y.jsxs)(W,{alignItems:"center",className:w.a.switch,children:[Object(y.jsx)(A.c,{size:"36px",color:"orange"}),Object(y.jsx)(z.a,{onChange:function(){return t((function(e){return!e}))},name:"checkedA",style:{color:"var(--themeColor)"}}),Object(y.jsx)(A.b,{size:"36px",color:"#91A3B0"})]})]})},V=m.c.div(i||(i=Object(j.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  flex-wrap: ",";\n  padding: ",";\n  margin: ",";\n  height: ",";\n  overflow: ",";\n  border: ",";\n  @media (max-width: 768px) {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n"])),(function(e){return e.dir}),(function(e){return e.justify}),(function(e){return e.alignItems}),(function(e){return e.wrap}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.height}),(function(e){return e.overflow}),(function(e){return e.border})),F=function(e){return Object(y.jsx)(V,Object(I.a)({},e))},M=m.c.p(o||(o=Object(j.a)(["\n  font-size: ",";\n  color: ",";\n  font-weight: ",";\n  margin: ",";\n  padding: ",";\n  text-align: ",";\n  border: ",";\n  cursor: ",";\n"])),(function(e){return e.size}),(function(e){return e.color}),(function(e){return e.weight}),(function(e){return e.margin?e.margin:"0"}),(function(e){return e.padding?e.padding:"0"}),(function(e){return e.textAlign}),(function(e){return e.border}),(function(e){return e.cursor})),K=function(e){return Object(y.jsx)(M,Object(I.a)(Object(I.a)({},e),{},{children:e.children}))},L=n(18),_=n(21),B=n(38),P=n(20),R=n.n(P),U=n(34),E=n(84),Y=n.n(E),q=function(){var e=Object(U.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y()({headers:{"content-type":null},method:"GET",url:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G="Y8sDbwrRlZwrC54jHcVeAvb9VvwvzTAi",H=Object(B.a)("weather/getPlaces",function(){var e=Object(U.a)(R.a.mark((function e(t,n){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,q("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(G,"&q=").concat(t));case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),J=Object(B.a)("weather/getWeather",function(){var e=Object(U.a)(R.a.mark((function e(t,n){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,q("https://dataservice.accuweather.com/currentconditions/v1/".concat(t.Key,"?apikey=").concat(G,"&metric=true"));case 4:return a=e.sent,c=a.data,e.abrupt("return",{weather:c[0],location:t});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(B.a)("weather/getForecast",function(){var e=Object(U.a)(R.a.mark((function e(t,n){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,q("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t.Key,"?apikey=").concat(G,"&metric=true"));case 4:return a=e.sent,c=a.data,e.abrupt("return",c.DailyForecasts);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(B.a)("weather/getByGeo",function(){var e=Object(U.a)(R.a.mark((function e(t,n){var r,a,c,i,o,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.lat,a=t.lng,c=n.rejectWithValue,i=n.dispatch,e.prev=2,e.next=5,q("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat(G,"&q=").concat(r,"%2C%20").concat(a));case 5:return o=e.sent,u=o.data,i(J(u)),i(X(u)),e.abrupt("return",u);case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",c(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()),$=n(192),Q=Object(B.b)({name:"state",initialState:{places:[],weather:{},current:{location:null,weather:null,forecast:[]},favorites:[],loading:!1,error:""},reducers:{handleFavorite:function(e,t){var n=t.payload;if(!!e.favorites&&e.favorites.some((function(e){return e.location.Key===n.location.Key})))e.favorites=e.favorites.filter((function(e){return e.location.Key!==n.location.Key}));else{var r=Object(I.a)({id:Object($.a)(),locationName:n.location.LocalizedName},n);e.favorites.push(r)}},changeCurrent:function(e,t){var n=t.payload;e.current=n}},extraReducers:(u={},Object(_.a)(u,H.pending.toString(),(function(e){e.loading=!0,e.error=""})),Object(_.a)(u,H.fulfilled.toString(),(function(e,t){var n=t.payload;e.loading=!1,e.places=n})),Object(_.a)(u,H.rejected.toString(),(function(e,t){var n=t.error;e.loading=!1,e.error=n.message})),Object(_.a)(u,J.pending.toString(),(function(e){e.loading=!0,e.error=""})),Object(_.a)(u,J.fulfilled.toString(),(function(e,t){var n=t.payload;e.loading=!1,e.current.location=n.location,e.current.weather=n.weather})),Object(_.a)(u,J.rejected.toString(),(function(e,t){var n=t.payload;e.loading=!1,e.error=n})),Object(_.a)(u,X.pending.toString(),(function(e){e.loading=!0,e.error=""})),Object(_.a)(u,X.fulfilled.toString(),(function(e,t){var n=t.payload;e.loading=!1,e.current.forecast=n})),Object(_.a)(u,X.rejected.toString(),(function(e,t){var n=t.payload;e.loading=!1,e.error=n})),Object(_.a)(u,Z.pending.toString(),(function(e){e.loading=!0,e.error=""})),Object(_.a)(u,Z.fulfilled.toString(),(function(e,t){var n=t.payload;e.loading=!1,e.current.location=n})),Object(_.a)(u,Z.rejected.toString(),(function(e,t){var n=t.payload;e.loading=!1,e.error=n})),u)}),ee=Q.actions,te=ee.handleFavorite,ne=ee.changeCurrent,re=Q.reducer,ae=n(182),ce=function(e){var t=e.current,n=e.favorites,r=Object(L.b)(),a=!1;(null===n||void 0===n?void 0:n.length)&&t.location&&(a=n.some((function(e){var n;return e.location.Key===(null===(n=t.location)||void 0===n?void 0:n.Key)})));var c,i,o=function(){r(te(t))};return t.weather?Object(y.jsxs)(F,{alignItems:"center",height:"30%",border:"0 0 1px 0 solid gray",wrap:"wrap",children:[Object(y.jsx)(W,{flex:"5%",margin:"0 15px",children:(null===(c=t.weather)||void 0===c?void 0:c.IsDayTime)?Object(y.jsx)(A.c,{size:"4em",color:"orange"}):Object(y.jsx)(A.b,{size:"4em",color:"#91A3B0"})}),Object(y.jsxs)(W,{flex:"70%",dir:"column",children:[Object(y.jsx)(N,{level:"2",children:null===(i=t.location)||void 0===i?void 0:i.LocalizedName}),Object(y.jsxs)(K,{children:[t.weather.Temperature.Metric.Value,t.weather.Temperature.Metric.Unit," ",t.weather.Temperature.Imperial.Value,t.weather.Temperature.Imperial.Unit]})]}),Object(y.jsxs)(W,{flex:"10%",justify:"flex-end",alignItems:"center",children:[Object(y.jsx)(ae.a,{onClick:o,children:Object(y.jsx)(A.a,{color:a?"#ff0005":"#ccc",style:{cursor:"pointer"}})}),Object(y.jsx)(K,{border:"1px solid var(--themeColor)",padding:"0 5px 3px",cursor:"pointer",onClick:o,children:"Add to favorites"})]}),Object(y.jsx)(W,{flex:"100%",justify:"center",children:Object(y.jsx)(N,{level:"1",children:t.weather.WeatherText})})]}):Object(y.jsx)(F,{alignItems:"center",justify:"space-around",wrap:"wrap",overflow:"auto",margin:"25px 0",children:Object(y.jsx)(K,{children:"An error has occured"})})},ie=n(85),oe=n.n(ie),ue={isDay:function(e){return oe()(e).format("dddd")}};function se(e){var t,n=e.current;return(null===(t=n.forecast)||void 0===t?void 0:t.length)?Object(y.jsx)(F,{alignItems:"center",justify:"space-around",height:"70%",wrap:"wrap",overflow:"auto",margin:"25px 0",children:Object(y.jsx)(l.a.Fragment,{children:n.forecast.length>0&&n.forecast.map((function(e){return Object(y.jsxs)(W,{dir:"column",justify:"center",alignItems:"center",width:"15%",radius:"8px",border:"1px solid var(--themeColor)",padding:"25px",margin:"30px 5px",height:"200px",children:[Object(y.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(e.Day.Icon<9?"0".concat(e.Day.Icon):e.Day.Icon,"-s.png"),alt:e.Day.IconPhrase}),Object(y.jsx)(K,{size:"2rem",margin:"15px 0",children:ue.isDay(e.Date)}),Object(y.jsx)(K,{weight:"500",size:"1.2rem",children:e.Day.IconPhrase}),Object(y.jsxs)(K,{weight:"500",children:["Min: ",e.Temperature.Minimum.Value,e.Temperature.Minimum.Unit,"Max: ",e.Temperature.Maximum.Value,e.Temperature.Maximum.Unit]})]},Object($.a)())}))})}):Object(y.jsx)(F,{alignItems:"center",justify:"space-around",height:"70%",wrap:"wrap",overflow:"auto",margin:"25px 0",children:Object(y.jsx)(K,{children:"An error has occured"})})}var le,de=l.a.memo(se),he=n(190),fe=n(191),je=n(188),pe=function(){var e=Object(L.c)((function(e){return e})),t=e.places,n=e.loading,r=Object(L.b)();return{places:t,loading:n,handleChange:function(){var e=Object(U.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(H(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleSelected:function(e){r(J(e)),r(X(e))}}},be=Object(m.d)((function(e){var t=e.theme,n=pe(),r=n.places,a=n.loading,c=n.handleChange,i=n.handleSelected;return Object(y.jsx)(fe.a,{id:"combo-box-demo",options:r||[],getOptionLabel:function(e){return e.LocalizedName},getOptionSelected:function(e,t){return e.Version===t.Version},onChange:function(e,t){return t&&i(t)},style:{maxWidth:500,margin:"10px auto",padding:"25px",borderRadius:"8px"},renderInput:function(e){return Object(y.jsx)(he.a,Object(I.a)(Object(I.a)({},e),{},{label:"search",variant:"outlined",onChange:c,style:{background:t.inputColor,borderRadius:"8px"},InputProps:Object(I.a)(Object(I.a)({},e.InputProps),{},{endAdornment:Object(y.jsxs)(l.a.Fragment,{children:[a?Object(y.jsx)(je.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})})),me=n(87),xe=n.n(me),ge=function(){return Object(y.jsx)(xe.a,{type:"BallTriangle",color:"var(--themeColor)",height:100,width:100})},ve=n(88),Oe=function(){var e,t=Object(L.c)((function(e){return console.log(e),e})),n=t.current,r=t.loading,a=t.error,c=t.favorites;return Object(y.jsxs)(l.a.Fragment,{children:[Object(y.jsx)(be,{}),Object(y.jsx)(T,{dir:"column",padding:"25px",margin:"0 auto",height:"100%",maxWidth:"80%",border:"1px solid var(--themeColor)",radius:"8px",justify:"space-around",alignItems:"space-around",children:r?Object(y.jsx)(l.a.Fragment,{children:Object(y.jsx)(ge,{})}):(null===(e=n.forecast)||void 0===e?void 0:e.length)>0?Object(y.jsxs)(l.a.Fragment,{children:[Object(y.jsx)(ce,{current:n,favorites:c}),Object(y.jsx)(de,{current:n})]}):a?Object(y.jsx)(ve.a,{size:"4em",color:"var(--themeColor)",style:{alignSelf:"center"}}):Object(y.jsx)(l.a.Fragment,{children:Object(y.jsx)(K,{children:"An error has occured"})})})]})},we=function(){var e=Object(L.c)((function(e){return e})).favorites,t=Object(L.b)(),n=Object(b.f)();return e&&(null===e||void 0===e?void 0:e.length)>0?Object(y.jsx)(T,{dir:"flex",padding:"25px",margin:"auto",height:"80vh",maxWidth:"80%",border:"1px solid var(--themeColor)",radius:"8px",wrap:"wrap",overflow:"auto",children:e.map((function(e){return Object(y.jsxs)(W,{dir:"column",justify:"space-evenly",alignItems:"center",width:"20%",height:"300px",radius:"8px",margin:"30px 5px",border:"1px solid var(--themeColor)",padding:" 25px",cursor:"pointer",onClick:function(){return function(e){var r=e.location,a=e.weather,c=e.forecast;t(ne({location:r,weather:a,forecast:c})),n.push("/")}(e)},children:[Object(y.jsx)(N,{level:"2",margin:"15px 0",children:e.locationName}),Object(y.jsxs)(K,{weight:"500",size:"1.2rem",margin:"0",children:[e.weather.Temperature.Metric.Value,e.weather.Temperature.Metric.Unit]}),Object(y.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(e.weather.WeatherIcon&&e.weather.WeatherIcon<9?"0".concat(e.weather.WeatherIcon):e.weather.WeatherIcon,"-s.png"),alt:e.weather.WeatherIcon.toString()}),Object(y.jsx)(K,{weight:"500",size:"1.2rem",margin:"0",children:e.weather.WeatherText})]},e.id)}))}):Object(y.jsx)(T,{dir:"flex",padding:"25px",margin:"auto",height:"80vh",maxWidth:"80%",border:"1px solid var(--themeColor)",radius:"8px",wrap:"wrap",justify:"center",alignItems:"center",overflow:"auto",children:Object(y.jsx)(W,{dir:"column",justify:"space-evenly",alignItems:"center",width:"250px",height:"300px",radius:"8px",margin:"10px",border:"1px solid var(--themeColor)",padding:" 25px",children:Object(y.jsx)(K,{size:"2rem",margin:"15px 0",color:"black",weight:"600",children:"No favourites selected"})})})},ye=n(189),Ce=n(193),Ie=Object(ye.a)((function(){return{root:{width:"30%",margin:"0 auto",position:"absolute",bottom:"50px",left:"50%",transform:"translateX(-50%)"}}}));function ke(e){var t=e.error,n=Ie(),r=Object(s.useState)(!1),a=Object(f.a)(r,2),c=a[0],i=a[1];return Object(s.useEffect)((function(){var e,n;return t?(i(!0),n=function(){i(!1)},e=setTimeout((function(){n()}),2500),function(){clearTimeout(e)}):i(!1)}),[t]),Object(y.jsx)("div",{className:n.root,style:{opacity:c?"1":"0",transition:"0.3s ease",transform:c?"translateY(0)":"translateY(100px)"},children:Object(y.jsx)(Ce.a,{severity:"error",children:t})})}var Te=m.c.div(le||(le=Object(j.a)(["\n  color: ",";\n"])),(function(e){return e.theme.fontColor}));var ze=function(){var e=Object(s.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(L.c)((function(e){return e.error})),c=Object(L.b)();return Object(s.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;c(Z({lat:t,lng:n}))}),(function(e){var t={AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"},Country:{ID:"IL",LocalizedName:"Israel"},Key:"215854",LocalizedName:"Tel Aviv",Rank:31,Type:"City",Version:1};c(J(t)),c(X(t))}))})),Object(y.jsxs)(m.a,{theme:n?g:x,children:[Object(y.jsx)(v,{}),Object(y.jsx)(Te,{children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(D,{setTheme:r}),Object(y.jsxs)(b.c,{children:[Object(y.jsx)(b.a,{exact:!0,path:"/favorite",component:we}),Object(y.jsx)(b.a,{exact:!0,path:"*",component:Oe})]}),Object(y.jsx)(ke,{error:a})]})})]})},Se=n(28),We=n(51),Ae=n(89),Ne=Object(Ae.composeWithDevTools)(Object(Se.applyMiddleware)(We.a)),De=Object(Se.createStore)(re,Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(Object(y.jsx)(l.a.StrictMode,{children:Object(y.jsx)(L.a,{store:De,children:Object(y.jsx)(ze,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,n){e.exports={ul:"header_ul__139hO",link:"header_link__vLFzk",switch:"header_switch__27pdP"}}},[[145,1,2]]]);
//# sourceMappingURL=main.c14179ea.chunk.js.map